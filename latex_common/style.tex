%% Assorted style and presentation stuff.

\newcommand{\figsepr}{\vspace{0.5em}\hrulefill\vspace{0.5em}}
\newcommand{\etal}{\textit{et al}.}
\newcommand{\ie}{\textit{i}.\textit{e}.}
\newcommand{\eg}{\textit{e}.\textit{g}.}
\newcommand{\il}[1]{\lstinline{#1}}

\newenvironment{blockquote}{%
  \par%
  \medskip
  \leftskip=4em\rightskip=2em%
  \noindent\ignorespaces}{%
  \par\medskip}

%% LK: See the definition of `\theequation`.
\newcommand{\eref}[1]{\ref{#1}}

%====Set up Listings===============================================================

\definecolor{darkgreen}{rgb}{0,0.5,0}
\definecolor{darkred}{rgb}{0.5,0,0}
\lstloadlanguages{Haskell}
\lstnewenvironment{code}
    { % \centering
      \lstset{}%
      \csname lst@SetFirstLabel\endcsname}
    { %\centering
      \csname lst@SaveFirstLabel\endcsname}
    \lstset{
      captionpos=b,
      frame=single,
      language=Haskell,
      basicstyle=\small\ttfamily,
      flexiblecolumns=false,
      basewidth={0.5em,0.45em},
      aboveskip={3pt},
      belowskip={3pt},
      keywordstyle=\color{black},  
      commentstyle=\color{darkgreen},
    }

%================================================================================

% Penalty for line-breaking inline math
\relpenalty=9999
\binoppenalty=9999
